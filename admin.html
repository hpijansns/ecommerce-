<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel</title>
<style>
body{font-family:Arial,sans-serif;margin:0;padding:20px;background:#f4f4f4;}
h2{margin-top:30px;}
label{display:block;margin-top:10px;font-weight:bold;}
input[type="file"]{margin-top:5px;}
button{margin-top:10px;padding:10px 15px;border:none;border-radius:5px;background:#ff3b3b;color:white;cursor:pointer;}
img.preview{width:100%;max-width:400px;margin-top:10px;border-radius:5px;box-shadow:0 2px 6px rgba(0,0,0,0.2);}
.slider-preview img{width:120px;height:80px;object-fit:cover;margin:5px;border-radius:5px;box-shadow:0 1px 3px rgba(0,0,0,0.2);}
.slider-preview div{display:inline-block;position:relative;}
.slider-preview div span{position:absolute;top:0;right:0;background:red;color:white;padding:2px 5px;border-radius:50%;cursor:pointer;}
</style>
</head>
<body>

<h1>Admin Panel</h1>

<h2>Hero Image (Header)</h2>
<input type="file" id="heroUpload">
<img id="heroPreview" class="preview" src="" alt="Hero Preview">

<h2>Static Image Below Header</h2>
<input type="file" id="staticUpload">
<img id="staticPreview" class="preview" src="" alt="Static Preview">

<h2>Slider Images (4â€“5)</h2>
<input type="file" id="sliderUpload" multiple>
<div class="slider-preview" id="sliderPreview"></div>

<script>
// --- Hero Image ---
const heroUpload = document.getElementById('heroUpload');
const heroPreview = document.getElementById('heroPreview');
const savedHero = localStorage.getItem('headerImage');
if(savedHero){ heroPreview.src = savedHero; }

heroUpload.addEventListener('change', e=>{
  const file = e.target.files[0];
  if(file){
    const reader = new FileReader();
    reader.onload = ()=> {
      heroPreview.src = reader.result;
      localStorage.setItem('headerImage', reader.result);
      alert('Hero image updated!');
    };
    reader.readAsDataURL(file);
  }
});

// --- Static Image ---
const staticUpload = document.getElementById('staticUpload');
const staticPreview = document.getElementById('staticPreview');
const savedStatic = localStorage.getItem('staticImage');
if(savedStatic){ staticPreview.src = savedStatic; }

staticUpload.addEventListener('change', e=>{
  const file = e.target.files[0];
  if(file){
    const reader = new FileReader();
    reader.onload = ()=> {
      staticPreview.src = reader.result;
      localStorage.setItem('staticImage', reader.result);
      alert('Static image updated!');
    };
    reader.readAsDataURL(file);
  }
});

// --- Slider Images ---
const sliderUpload = document.getElementById('sliderUpload');
const sliderPreview = document.getElementById('sliderPreview');
let sliderImages = JSON.parse(localStorage.getItem('sliderImages')) || [];

function renderSliderPreview(){
  sliderPreview.innerHTML = '';
  sliderImages.forEach((src,index)=>{
    const div = document.createElement('div');
    div.innerHTML=`<img src="${src}" alt="slide"><span data-index="${index}">&times;</span>`;
    sliderPreview.appendChild(div);
  });
}

// Delete slider image
sliderPreview.addEventListener('click', e=>{
  if(e.target.tagName==='SPAN'){
    const idx = e.target.dataset.index;
    sliderImages.splice(idx,1);
    localStorage.setItem('sliderImages', JSON.stringify(sliderImages));
    renderSliderPreview();
  }
});

sliderUpload.addEventListener('change', e=>{
  const files = Array.from(e.target.files);
  files.forEach(file=>{
    const reader = new FileReader();
    reader.onload = ()=> {
      sliderImages.push(reader.result);
      if(sliderImages.length>5) sliderImages = sliderImages.slice(0,5);
      localStorage.setItem('sliderImages', JSON.stringify(sliderImages));
      renderSliderPreview();
    };
    reader.readAsDataURL(file);
  });
});

renderSliderPreview();
</script>

</body>
</html>
