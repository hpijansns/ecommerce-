<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cart</title>
<style>
body{font-family:Arial,sans-serif;margin:0;padding:0;}
header{background:#2874f0;color:white;padding:15px;text-align:center;}
.container{padding:20px;max-width:800px;margin:auto;}
table{width:100%;border-collapse:collapse;}
th,td{border:1px solid #ccc;padding:10px;text-align:center;}
button{padding:5px 10px;background:#2874f0;color:white;border:none;border-radius:3px;cursor:pointer;}
</style>
</head>
<body>

<header>
<h1>Cart</h1>
</header>

<div class="container">
<table id="cart-table">
<thead>
<tr><th>Product</th><th>Price</th><th>Qty</th><th>Total</th><th>Action</th></tr>
</thead>
<tbody></tbody>
</table>
<p id="total"></p>
<button onclick="checkout()">Proceed to Checkout</button>
</div>

<script>
let products = JSON.parse(localStorage.getItem('products')) || [];
let cart = JSON.parse(localStorage.getItem('cart')) || [];

function showCart(){
  const tbody = document.querySelector('#cart-table tbody');
  tbody.innerHTML='';
  let total = 0;
  cart.forEach(item=>{
    const product = products.find(p=>p.id===item.id);
    if(product){
      const row = document.createElement('tr');
      const subtotal = product.price * item.qty;
      total += subtotal;
      row.innerHTML=`<td>${product.name}</td><td>₹${product.price}</td><td>${item.qty}</td><td>₹${subtotal}</td>
      <td><button onclick="removeItem(${item.id})">Remove</button></td>`;
      tbody.appendChild(row);
    }
  });
  document.getElementById('total').innerText='Total: ₹'+total;
}

function removeItem(id){
  cart = cart.filter(i=>i.id!==id);
  localStorage.setItem('cart',JSON.stringify(cart));
  showCart();
}

function checkout(){
  if(cart.length===0){ alert('Cart is empty'); return; }
  window.location.href='checkout.html';
}

showCart();
</script>

</body>
</html>
