<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Order Summary</title>
<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    background: #f5f5f5;
}
.container {
    max-width: 500px;
    margin: 20px auto;
    background: #fff;
    padding: 20px;
    border-radius: 8px;
}
h1 {
    text-align: center;
    font-size: 24px;
    margin-bottom: 20px;
    color: #2874f0;
}
.steps {
    display: flex;
    justify-content: space-between;
    margin-bottom: 20px;
}
.step {
    flex: 1;
    text-align: center;
    position: relative;
}
.step::after {
    content: '';
    position: absolute;
    top: 12px;
    right: -50%;
    width: 100%;
    height: 2px;
    background: #ccc;
    z-index: -1;
}
.step:last-child::after {
    display: none;
}
.step.active {
    font-weight: bold;
    color: #2874f0;
}
.address, .products, .total {
    border-bottom: 1px solid #ddd;
    padding-bottom: 15px;
    margin-bottom: 15px;
}
.address p, .products p {
    margin: 5px 0;
}
.product-image {
    text-align: center;
    margin: 10px 0;
}
.product-image img {
    max-width: 100%;
    border-radius: 8px;
}
button {
    width: 100%;
    background: #fb641b;
    color: #fff;
    padding: 12px;
    font-size: 16px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
}
button:hover {
    background: #e55d1f;
}
</style>
</head>
<body>

<div class="container">
    <h1>Order Summary</h1>

    <div class="steps">
        <div class="step active">Address</div>
        <div class="step active">Order Summary</div>
        <div class="step">Payment</div>
    </div>

    <div class="address">
        <h3>Delivery Address</h3>
        <p id="fullName"></p>
        <p id="mobile"></p>
        <p id="house"></p>
        <p id="road"></p>
        <p id="cityStatePincode"></p>
    </div>

    <div class="products">
        <h3>Products</h3>
        <div class="product-image">
            <img id="productImage" src="" alt="Product Image">
        </div>
        <p id="productName"></p>
        <p id="quantity"></p>
        <p id="pricePerItem"></p>
    </div>

    <div class="total">
        <h3>Total Amount: ₹<span id="totalAmount"></span></h3>
    </div>

    <button id="payButton">Proceed to Payment</button>
</div>

<script>
// 1️⃣ Fetch delivery address from localStorage
const address = JSON.parse(localStorage.getItem('deliveryAddress') || '{}');

document.getElementById('fullName').innerText = address.fullName || '';
document.getElementById('mobile').innerText = 'Mobile: ' + (address.mobile || '');
document.getElementById('house').innerText = address.house || '';
document.getElementById('road').innerText = address.road || '';
document.getElementById('cityStatePincode').innerText = (address.city || '') + ', ' + (address.state || '') + ' - ' + (address.pincode || '');

// 2️⃣ Fetch product/order details including image (sessionStorage)
const orderDetails = JSON.parse(sessionStorage.getItem('orderDetails') || `{
    "productName":"IPL Ticket",
    "quantity":2,
    "pricePerItem":500,
    "totalAmount":1000,
    "image":"https://iili.io/KSBQlLJ.png"
}`);

document.getElementById('productName').innerText = "Product: " + orderDetails.productName;
document.getElementById('quantity').innerText = "Quantity: " + orderDetails.quantity;
document.getElementById('pricePerItem').innerText = "Price per item: ₹" + orderDetails.pricePerItem;
document.getElementById('totalAmount').innerText = orderDetails.totalAmount;
document.getElementById('productImage').src = orderDetails.image;

// 3️⃣ Redirect to Payment page
document.getElementById('payButton').addEventListener('click', function(){
    window.location.href = "payment.html";
});
</script>

</body>
</html>
