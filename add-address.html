<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Order Summary</title>
<style>
body {
    font-family: Arial, sans-serif;
    background-color: #f4f4f4;
    margin: 0;
    padding: 0;
}
.container {
    max-width: 500px;
    margin: 30px auto;
    background: #fff;
    border-radius: 8px;
    padding: 20px;
}
h1 {
    text-align: center;
    color: #333;
    font-size: 22px;
    margin-bottom: 20px;
}
.product {
    display: flex;
    align-items: center;
    border-bottom: 1px solid #ddd;
    padding-bottom: 15px;
}
.product img {
    width: 120px;
    height: 120px;
    border-radius: 8px;
    object-fit: cover;
    margin-right: 20px;
}
.product-details {
    flex: 1;
}
.product-details h2 {
    font-size: 18px;
    margin: 0;
    color: #222;
}
.product-details p {
    font-size: 14px;
    color: #555;
}
.price {
    font-weight: bold;
    font-size: 18px;
    color: #ff6600;
    margin-top: 5px;
}
.summary {
    margin-top: 20px;
    font-size: 15px;
}
.summary div {
    display: flex;
    justify-content: space-between;
    margin: 8px 0;
}
.total {
    font-weight: bold;
    font-size: 18px;
    border-top: 1px solid #ddd;
    padding-top: 10px;
}
button {
    width: 100%;
    background: #ff6600;
    color: #fff;
    padding: 15px;
    border: none;
    border-radius: 8px;
    margin-top: 20px;
    font-size: 16px;
    cursor: pointer;
}
button:hover {
    background: #e65c00;
}
.address-box {
    margin-top: 20px;
    background: #f9f9f9;
    padding: 15px;
    border-radius: 8px;
}
.address-box h3 {
    margin: 0 0 10px;
}
</style>
</head>
<body>

<div class="container">
    <h1>Order Summary</h1>

    <div class="product">
        <img id="productImage" src="" alt="Product Image">
        <div class="product-details">
            <h2 id="productName">Selected Product</h2>
            <p>Fast Delivery within 3-5 Days</p>
            <div class="price" id="productPrice">₹0</div>
        </div>
    </div>

    <div class="summary">
        <div><span>Item Total</span><span id="itemTotal">₹0</span></div>
        <div><span>Delivery Charges</span><span>₹0</span></div>
        <div class="total"><span>Total Amount</span><span id="totalAmount">₹0</span></div>
    </div>

    <div class="address-box">
        <h3>Delivery Address</h3>
        <p id="addressDetails">Loading address...</p>
    </div>

    <button id="payBtn">Pay Now</button>
</div>

<script>
// Get product data from localStorage
const selectedProduct = JSON.parse(localStorage.getItem("selectedProduct"));
if (selectedProduct) {
    document.getElementById("productImage").src = selectedProduct.image || "";
    document.getElementById("productName").textContent = selectedProduct.name || "Your Product";
    document.getElementById("productPrice").textContent = "₹" + selectedProduct.price;
    document.getElementById("itemTotal").textContent = "₹" + selectedProduct.price;
    document.getElementById("totalAmount").textContent = "₹" + selectedProduct.price;
}

// Get delivery address from localStorage
const addressData = JSON.parse(localStorage.getItem("deliveryAddress"));
if (addressData) {
    document.getElementById("addressDetails").innerHTML = `
        ${addressData.fullName}<br>
        ${addressData.house}, ${addressData.road}<br>
        ${addressData.city}, ${addressData.state} - ${addressData.pincode}<br>
        Mobile: ${addressData.mobile}
    `;
}

// Redirect to UPI Payment on click
document.getElementById("payBtn").addEventListener("click", function() {
    window.location.href = "upi://pay?pa=BHARATPE.8X0A0T8C8B85333@fbpe&pn=BharatPe%20Merchant&cu=INR&tn=Pay%20To%20BharatPe%20Merchant";
});
</script>

</body>
</html>
