<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Product Page Admin Panel</title>
<style>
body{font-family:Arial,sans-serif;margin:0;padding:0;background:#f0f0f0;}
.container{max-width:900px;margin:auto;padding:20px;background:#fff;}
h2{margin-top:0;color:#333;}
section{margin-bottom:20px;padding:10px;border:1px solid #ccc;border-radius:8px;background:#fafafa;}
label{display:block;margin:5px 0;font-weight:bold;}
input[type=text], input[type=number], input[type=url], select{width:100%;padding:5px;margin-bottom:10px;}
button{padding:7px 12px;margin-right:5px;background:#ff3b3b;color:#fff;border:none;border-radius:5px;cursor:pointer;}
button.delete{background:#555;}
.image-list{display:flex;gap:10px;flex-wrap:wrap;margin-bottom:10px;}
.image-list div{position:relative;}
.image-list img{width:100px;height:70px;object-fit:cover;border-radius:5px;}
.image-list button{position:absolute;top:0;right:0;padding:2px 5px;font-size:12px;}
</style>
</head>
<body>
<div class="container">
<h1>Product Page Admin Panel</h1>

<!-- Header Image -->
<section>
<h2>Header Image</h2>
<input type="file" id="headerUpload">
<img id="headerPreview" src="" style="width:100%;max-height:200px;object-fit:cover;">
<button id="saveHeader">Save Header</button>
</section>

<!-- Slider Images -->
<section>
<h2>Slider Images</h2>
<input type="file" id="sliderUpload" multiple>
<div class="image-list" id="sliderList"></div>
</section>

<!-- Single Image -->
<section>
<h2>Single Image</h2>
<input type="file" id="singleUpload">
<img id="singlePreview" src="" style="width:100%;max-height:150px;object-fit:cover;">
<button id="saveSingle">Save Single Image</button>
</section>

<!-- Bottom Images -->
<section>
<h2>Bottom Images</h2>
<input type="file" id="bottomUpload" multiple>
<div class="image-list" id="bottomList"></div>
</section>

<!-- Countdown -->
<section>
<h2>Countdown Timer</h2>
<label>Minutes</label>
<input type="number" id="countdownInput" value="20">
<button id="saveCountdown">Save Countdown</button>
</section>

</div>

<script>
// Helper to convert uploaded file to URL
function readFileAsURL(file, callback){
  const reader = new FileReader();
  reader.onload = e=>callback(e.target.result);
  reader.readAsDataURL(file);
}

// --- Header Image ---
const headerPreview = document.getElementById('headerPreview');
headerPreview.src = localStorage.getItem('productHeader') || 'https://via.placeholder.com/800x200?text=Header+Image';
document.getElementById('headerUpload').addEventListener('change', e=>{
  readFileAsURL(e.target.files[0], url=>{headerPreview.src=url;});
});
document.getElementById('saveHeader').addEventListener('click', ()=>{
  localStorage.setItem('productHeader', headerPreview.src);
  alert('Header saved');
});

// --- Slider Images ---
function renderSlider(){
  const sliderList = document.getElementById('sliderList');
  sliderList.innerHTML='';
  const sliders = JSON.parse(localStorage.getItem('productSlider')||'[]');
  sliders.forEach((src,i)=>{
    const div = document.createElement('div');
    div.innerHTML = `<img src="${src}"><button class="delete" onclick="deleteSlider(${i})">X</button>`;
    sliderList.appendChild(div);
  });
}
function deleteSlider(i){
  let sliders = JSON.parse(localStorage.getItem('productSlider')||'[]');
  sliders.splice(i,1);
  localStorage.setItem('productSlider', JSON.stringify(sliders));
  renderSlider();
}
document.getElementById('sliderUpload').addEventListener('change', e=>{
  let sliders = JSON.parse(localStorage.getItem('productSlider')||'[]');
  Array.from(e.target.files).forEach(file=>{
    if(sliders.length<7){
      readFileAsURL(file,url=>{sliders.push(url); localStorage.setItem('productSlider',JSON.stringify(sliders)); renderSlider();});
    }
  });
});
renderSlider();

// --- Single Image ---
const singlePreview = document.getElementById('singlePreview');
singlePreview.src = localStorage.getItem('productSingle') || 'https://via.placeholder.com/800x150?text=Single+Image';
document.getElementById('singleUpload').addEventListener('change', e=>{
  readFileAsURL(e.target.files[0], url=>{singlePreview.src=url;});
});
document.getElementById('saveSingle').addEventListener('click', ()=>{
  localStorage.setItem('productSingle', singlePreview.src);
  alert('Single Image saved');
});

// --- Bottom Images ---
function renderBottom(){
  const bottomList = document.getElementById('bottomList');
  bottomList.innerHTML='';
  const bottoms = JSON.parse(localStorage.getItem('productBottom')||'[]');
  bottoms.forEach((src,i)=>{
    const div = document.createElement('div');
    div.innerHTML = `<img src="${src}"><button class="delete" onclick="deleteBottom(${i})">X</button>`;
    bottomList.appendChild(div);
  });
}
function deleteBottom(i){
  let bottoms = JSON.parse(localStorage.getItem('productBottom')||'[]');
  bottoms.splice(i,1);
  localStorage.setItem('productBottom', JSON.stringify(bottoms));
  renderBottom();
}
document.getElementById('bottomUpload').addEventListener('change', e=>{
  let bottoms = JSON.parse(localStorage.getItem('productBottom')||'[]');
  Array.from(e.target.files).forEach(file=>{
    if(bottoms.length<3){
      readFileAsURL(file,url=>{bottoms.push(url); localStorage.setItem('productBottom',JSON.stringify(bottoms)); renderBottom();});
    }
  });
});
renderBottom();

// --- Countdown ---
document.getElementById('countdownInput').value = localStorage.getItem('productCountdown')||20;
document.getElementById('saveCountdown').addEventListener('click', ()=>{
  const val = document.getElementById('countdownInput').value;
  localStorage.setItem('productCountdown', val);
  alert('Countdown saved');
});
</script>
</body>
</html>
