<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Product Page</title>
<style>
body{margin:0;padding:0;font-family:Arial,sans-serif;background:#f4f4f4;}
header{width:100%;}
header img{width:100%;height:auto;object-fit:cover;}
#slider{width:100%;overflow:hidden;position:relative;margin:10px 0;}
#slider img{width:100%;height:250px;object-fit:cover;display:none;}
#slider img.active{display:block;}
.container{max-width:800px;margin:auto;background:#fff;padding:10px;}
.storage-select{margin:10px 0;}
.product-detail{margin:10px 0;}
.product-detail .price{font-size:16px;color:#555;}
.product-detail .price del{color:gray;margin-right:5px;text-decoration:line-through;}
.product-detail .discount{color:green;font-weight:bold;}
#countdown{background:orange;color:#fff;padding:5px 10px;border-radius:5px;font-weight:bold;margin:10px 0;display:inline-block;}
.bottom-images{display:flex;gap:5px;margin:10px 0;}
.bottom-images img{width:32%;height:100px;object-fit:cover;border-radius:5px;}
.fixed-buttons{position:fixed;bottom:0;left:0;width:100%;display:flex;}
.fixed-buttons button{flex:1;padding:15px;font-size:16px;font-weight:bold;cursor:pointer;border:none;}
#addCart{background:#3b82f6;color:#fff;}
#buyNow{background:yellow;color:#000;}
@media(max-width:768px){
  #slider img{height:180px;}
  .bottom-images img{width:32%;height:80px;}
}
</style>
</head>
<body>

<!-- Header Image -->
<header>
<img id="headerImage" src="https://via.placeholder.com/800x200?text=Header+Image" alt="Header">
</header>

<!-- Slider Images -->
<div id="slider">
  <img src="https://via.placeholder.com/800x250?text=Slide+1" class="active">
  <img src="https://via.placeholder.com/800x250?text=Slide+2">
  <img src="https://via.placeholder.com/800x250?text=Slide+3">
</div>

<!-- Storage Selection -->
<div class="container">
  <div class="storage-select">
    <label for="storage">Select Storage:</label>
    <select id="storage">
      <option value="1TB">1 TB</option>
      <option value="512GB">512 GB</option>
      <option value="128GB">128 GB</option>
    </select>
  </div>

  <!-- Product Details -->
  <div class="product-detail" id="productDetail"></div>

  <!-- Single Image -->
  <div>
    <img id="singleImage" src="https://via.placeholder.com/800x150?text=Single+Image" alt="Single">
  </div>

  <!-- Countdown -->
  <div id="countdown">20:00</div>

  <!-- Bottom Images -->
  <div class="bottom-images">
    <img src="https://via.placeholder.com/250x100?text=Bottom+1">
    <img src="https://via.placeholder.com/250x100?text=Bottom+2">
    <img src="https://via.placeholder.com/250x100?text=Bottom+3">
  </div>
</div>

<!-- Fixed Buttons -->
<div class="fixed-buttons">
  <button id="addCart">Add to Cart</button>
  <button id="buyNow">Buy Now</button>
</div>

<script>
// Slider functionality
let slides = document.querySelectorAll('#slider img');
let current = 0;
setInterval(()=>{
  slides[current].classList.remove('active');
  current = (current+1)%slides.length;
  slides[current].classList.add('active');
},3000);

// Load product details from previous page
const params = new URLSearchParams(window.location.search);
const id = params.get('id');
const products = JSON.parse(localStorage.getItem('products')||'[]');
const product = products[id];
const detailContainer = document.getElementById('productDetail');

if(product){
  detailContainer.innerHTML = `
    <h2>${product.name}</h2>
    <div class="price"><del>₹${product.oldPrice}</del> <span>₹${product.newPrice}</span></div>
    <div class="discount">${product.discount}% OFF</div>
    <p>Free Delivery in 2 Days</p>
  `;
}else{
  detailContainer.innerHTML = '<p>Product not found</p>';
}

// Countdown Timer
let countdown = 20*60; // 20 minutes
const countdownEl = document.getElementById('countdown');
function updateTimer(){
  const m = Math.floor(countdown/60);
  const s = countdown%60;
  countdownEl.innerText = `${m}:${s<10?'0'+s:s}`;
  countdown--;
  if(countdown<0) countdown=0;
}
setInterval(updateTimer,1000);

// Buttons redirect
document.getElementById('addCart').addEventListener('click',()=>{
  window.location.href='nextpage.html';
});
document.getElementById('buyNow').addEventListener('click',()=>{
  window.location.href='nextpage.html';
});
</script>

</body>
</html>
