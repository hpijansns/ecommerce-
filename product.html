<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Product Page</title>
<style>
body{margin:0;padding:0;font-family:Arial,sans-serif;background:#f4f4f4;}
header img{width:100%;height:auto;object-fit:cover;}
#slider img{width:100%;display:none;height:250px;object-fit:cover;border-bottom:1px solid #ddd;}
#slider img.active{display:block;}
.storage{margin:10px 0;}
.storage select{padding:5px;width:150px;}
.details{background:#fff;padding:10px;margin:10px;border-radius:5px;}
.details .discount{color:green;font-weight:bold;}
.details .oldPrice{color:gray;text-decoration:line-through;margin-right:5px;}
#countdown{margin:10px 0;padding:5px;background:orange;color:#fff;border-radius:5px;display:inline-block;font-weight:bold;}
.bottom-images{display:flex;gap:10px;margin:10px 0;}
.bottom-images img{width:30%;border-radius:5px;object-fit:cover;}
.buttons{position:fixed;bottom:0;left:0;width:100%;display:flex;}
.buttons button{flex:1;padding:15px;font-size:16px;border:none;cursor:pointer;}
#addCart{background:#ff3b3b;color:#fff;}
#buyNow{background:yellow;color:#000;}
</style>
</head>
<body>

<header>
  <img id="headerImage" src="https://via.placeholder.com/1200x200?text=Header+Image" alt="Header">
</header>

<div id="slider"></div>

<div class="storage">
  <label>Select Storage:</label>
  <select id="storageSelect">
    <option value="128GB">128GB</option>
    <option value="256GB">256GB</option>
    <option value="512GB">512GB</option>
    <option value="1TB">1TB</option>
  </select>
</div>

<div class="details" id="productDetails"></div>

<div id="countdown">Time Left: <span id="timer">20:00</span></div>

<div class="bottom-images" id="bottomImages">
  <img src="https://via.placeholder.com/200x100?text=Image1" alt="Bottom1">
  <img src="https://via.placeholder.com/200x100?text=Image2" alt="Bottom2">
  <img src="https://via.placeholder.com/200x100?text=Image3" alt="Bottom3">
</div>

<div class="buttons">
  <button id="addCart">Add to Cart</button>
  <button id="buyNow">Buy Now</button>
</div>

<script>
// Load product details
const params = new URLSearchParams(window.location.search);
const id = params.get('id') || 0;

const products = JSON.parse(localStorage.getItem('products')||'[]');
const product = products[id] || {name:'Product', oldPrice:1000, newPrice:499, discount:50};

const details = document.getElementById('productDetails');
details.innerHTML = `
  <h2>${product.name}</h2>
  <p><span class="oldPrice">₹${product.oldPrice}</span><span>₹${product.newPrice}</span></p>
  <p class="discount">${product.discount}% OFF</p>
`;

// Slider
const sliderContainer = document.getElementById('slider');
const sliderImages = JSON.parse(localStorage.getItem('product_'+id+'_slider')||'[]');
if(sliderImages.length>0){
  sliderImages.forEach((img,i)=>{
    const image = document.createElement('img');
    image.src = img;
    if(i===0) image.classList.add('active');
    sliderContainer.appendChild(image);
  });
  let current = 0;
  setInterval(()=>{
    const imgs = sliderContainer.querySelectorAll('img');
    imgs[current].classList.remove('active');
    current = (current+1)%imgs.length;
    imgs[current].classList.add('active');
  },3000);
}

// Countdown
let countdown = 20*60;
const timerEl = document.getElementById('timer');
setInterval(()=>{
  const m = Math.floor(countdown/60);
  const s = countdown%60;
  timerEl.innerText = `${m}:${s<10?'0'+s:s}`;
  countdown--;
  if(countdown<0) countdown=0;
},1000);

// Buttons
document.getElementById('addCart').onclick = ()=>{
  window.location.href = 'nextpage.html';
}
document.getElementById('buyNow').onclick = ()=>{
  window.location.href = 'nextpage.html';
}
</script>

</body>
</html>
